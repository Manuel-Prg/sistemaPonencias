---
import "../../styles/base/variables.css";
import "../../styles/base/reset.css";
import "../../styles/components/buttons.css";
import "../../styles/components/form.css";
// Reusing password styles
import "../../styles/pages/auth/password.css";
import "../../styles/components/notifications.css";
import LogosLayout from "../../components/shared/logosLayout.astro";
---

<!doctype html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Restablecer Contraseña</title>
        <link
            rel="icon"
            type="image/x-icon"
            href="/favicon/favicon_io/favicon.ico"
        />
    </head>
    <LogosLayout />
    <body>
        <div class="container">
            <!-- Reset Password Card (Hidden by default, shown via JS) -->
            <div
                class="login-card"
                id="resetPasswordCard"
                style="display: none;"
            >
                <h2>Nueva Contraseña</h2>
                <p class="subtitle">Ingresa tu nueva contraseña.</p>

                <form id="newPasswordForm">
                    <div class="form-group">
                        <label for="newPassword">Nueva contraseña</label>
                        <input
                            type="password"
                            id="newPassword"
                            required
                            minlength="6"
                        />
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword">Confirmar contraseña</label
                        >
                        <input
                            type="password"
                            id="confirmPassword"
                            required
                            minlength="6"
                        />
                    </div>

                    <button type="submit" class="login-btn">
                        Cambiar contraseña
                    </button>
                </form>
            </div>

            <!-- Loading/Error State -->
            <div class="login-card" id="messageCard">
                <h2 id="messageTitle">Cargando...</h2>
                <p class="subtitle" id="messageText">Procesando solicitud...</p>
                <p class="signup-text" style="margin-top: 20px;">
                    <a href="/">Ir al inicio</a>
                </p>
            </div>
        </div>

        <script src="../../components/auth/resetPasswordAction.ts"></script>
    </body>

</html>
